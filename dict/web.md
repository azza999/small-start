# 웹개발 상식

면접 준비용  

## 웹 세션

 우리가 웹 페이지에 접속할 때, 양측은 서로의 정보를 저장할 필요가 있다. 가령 쇼핑몰에서 장바구니를 담는다던지, 쇼핑몰에 로그인을 한다던지 서버와 클라이언트가 서로의 정보를 알 필요가 있다. 이를 위해 '세션'과 '쿠키'가 준비되어 있다.  

### 세션과 쿠키의 차이점?

 가장 큰 차이는 세션은 server에, 쿠키는 client에 저장된다는 것이다. (server - session, client - cookie) 왜 클라이언트와 서버는 각자 서로의 정보를 저장해야 할까? 한쪽만 저장할 수는 없을까?  

### 세션의 문제점

 세션은 서버의 `메모리`에 저장된다. 메모리는 휘발성이고, 비싸고, 작다. 따라서 서버를 구동하는 프로그램이 꺼지면 메모리에 저장된 모든 세션 정보는 증발한다. 너무 많은 세션이 존재하게 되면, 메모리는 부족해질 것이고, 서버의 성능에도 영향을 미치고 더이상 세션을 설정할 수 없게 될 것이다.

 따라서 세션에 현재 접속중인 모든 유저의 정보를 저장할 수는 없기에, client 각자가 '나는 인증받은 사람이야'라고 증명하는 '입장권' 정도만 저장하고, 이외의 정보는 client 각자(cookie)가 보유하게 된다.
<br><br>

## http 프로토콜의 response header구조

### status Code

code | notes
100 | 요청이 진행중임.
200 | 요청이 성공적으로 처리됨.
201 | 요청이 성공적으로 처리되었고, 그 결과로 새로운 리소스가 생성됨.
<br><br>

## SPA (Single Page Application)

싱글 페이지 애플리케이션(SPA)은 웹 페이지에서 다른 페이지로 넘어갈 때, 기존의 링크를 클릭하고 새로운 페이지를 로드하는 방식이 아닌, 필요한 데이터만을 추가로 요청하여(AJAX 등) 페이지를 갱신하는 방법이다. 웹페이지에서 AJAX를 이용해 새로운 데이터를 불러오고, pushState/popState를 이용하여 history를 관리하는 방식으로 동작한다.
<br><br>

## POST vs GET

__GET__  
 
 request body를 url에 담아서 보낸다. google 검색 시, url 뒤쪽에 ?q=검색어&ie=UTF-8 처럼 붙는다. `?` 뒤쪽이 GET 쿼리문이고, `&` 기호를 구분자로 여러개의 parameter을 전송할 수 있다. URL에 사용자가 입력한 정보가 그대로 노출되므로 패스워드나 기밀성 정보를 요청할 때는 사용하지 않는 것이 좋다. 또한 URL의 최대 길이는 브라우저마다 다르므로, 큰 데이터를 URL에 담아 전송하는 일은 지양하는 것이 좋다. 하지만 검색 결과나 게시판 페이지에서 페이지 번호, 글 번호를 나타내는 등 URL을 공유하거나 해당 페이지를 다시 로드했을 때, 이전과 같은 페이지가 로드되기를 원한다면 URL에 정보를 담는 것도 좋은 방법이다.
<br>
<br>

__POST__  

 request body를 request header에 담아서 보낸다. request 헤더는 https 사용시 제 3자가 볼 수 없기 때문에 패스워드 등 민감한 정보를 전송하기에 용이하다. 또한 용량에 제한이 없기에 많은 데이터를 보낼 수 있다. 하지만 같은 URL이더라도 이전 request header와 내용이 달라지거나, 새로 페이지를 로드한다면 페이지의 내용이 달라지기 때문에 이를 생각하여 설계해야 한다.
<br><br>

## Redirect와 forward 방식의 차이
<br>

### Redirect 방식
어떤 요청을 처리할 때, 요청을 다른곳으로 보내야 할 경우가 있다. 예를 들어, 로그인하지 않은 client가 글쓰기 페이지에 접근했을 경우, 우리는 해당 유저를 로그인 페이지로 유도해야 한다. 이때 사용하는 것이 바로 `redirect`이다. 유저가 `/board/write` 경로로 접근했을 경우 `/user/login` 페이지로 재요청을 보내게 하는 방식이다. Redirect되면 유저입장에서는 URL이 바뀌고 사이트 이동이 보이므로 자신이 다른 페이지로 이동했다는 것을 알 수 있다. 또한 Server와 Client간의 요청/응답이 각각 이루어지므로 `/board/write`, `/user/login`으로 총 두번의 request와 response가 이루어지게 된다.

### Forward 방식
Forward 방식은 한 응답에 대해 서버 내에서 다른 URL에 대한 요청을 내놓는 개념이다. 예를 들어 메인 페이지 `/`에 대해 로그인된 유저는 마이페이지 `/user/mypage`를 보여주고, 로그인하지 않은 유저는 게시판 `/board/list`를 보여주는 라우팅 구조라면, 유저는 똑같이 `/`경로에 대해 요청을 보냈지만, 실제로는 `/user/mypage` 혹은 `/board/list`를 보여주는 구조라면, 이는 `/`경로가 `/user/mypage`, `/board/list`로 Forward 된 방식이다. 즉 유저의 입장에서는 자신이 `/` 경로를 요청했다는 것만 알 수 있고, `/`경로로 요청한 후에 어떠한 새로운 request나 response가 이루어지지 않는다.
<br><br>

## URL과 URI의 차이

### URI (Uniform Resource Identifier)

URI는 네트워크 상의 자원을 나타내는 고유 식별자 이고, URL과 URN은 모두 URI에 포함되는 개념이다. 따라서 URI는 유일해야 하며, 다음의 문법을 따라야 한다.(RFC 3986)

```plain
scheme:[//[user[:password]@]host[:port]][/path][?query][#fragment]
```

예시

```plain
ssh:user1:pwpw@192.168.0.100:22
```

### URL (Uniform Resource Locator)

URL은 우리에게 가장 친숙한 웹 주소 표현 방식이다. 하지만 URL은 웹 주소만을 가리키는 것이 아닌 네트워크상의 모든 위치(Path)를 나타낼 수 있다.

### URN (Uniformed Resource Name)

URN은 해당 인터넷 자원의 이름이다. 주로 `urn:`으로 시작하는 문법을 가지고 있다. 또한 독릭적으로 자원을 지시하는 특성을 가지고 있다.

![URL과 URN](https://img1.daumcdn.net/thumb/R1280x0/?scode=mtistory2&fname=https%3A%2F%2Fblog.kakaocdn.net%2Fdn%2FAkL2o%2FbtqJptEQJmu%2FomyDDiWIRr99BFKeVIpTt0%2Fimg.png)

### Data URI

주로 `data:image/png:base64,c2Zqc2....`와 같은 형태로 주로 이미지같은 데이터를 문자열로 나타내기 위해 사용한다. URL과 URN에 포함되지는 않지만 URI로 활용되는 대표적인 예시이다.

<br><br>

## browser에서 일반적인 웹 페이지에 접속할 때 port 번호가 표시되지 않는 이유

우리가 웹 브라우저로 인터넷 사이트에 접속할 때, 일반적으로 딱히 포트번호같은 것은 표시되지 않는다. 하지만 여러 테스트 웹 페이지를 만들어 접속할 때는 `192.168.0.5:3000`같이 테스트 포트로 사용한 포트 번호를 ip 혹은 도메인 뒤에 붙여주어야 한다.

그 이유는 대부분의 웹 브라우저에서 포트 번호가 표기되지 않으면 :80 혹은 :443 포트로 기본적으로 요청을 보내기 때문이다. 두 포트는 각각 http와 https의 기본적인 포트번호이다(well-known port). 따라서 우리가 임의로 지정한 `:3000`, `:5000`같은 포트번호는 직접 지정해주어야 한다.

<br><br>